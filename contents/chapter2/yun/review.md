# 테스트

애플리케이션은 계속 변하고 복잡해져 간다. 그 변화에 대응하는 첫 번째 전략이 확장과 변화를 고려한 객체지향적 설계와 그것을 효과적으로 담아낼 수 있는 IoC/DI 같은 기술이라면, 두 번째 전략은 만들어진 코드를 확신할 수 있게 해주고, 변화에 유연하게 대처할 수 있는 자신감을 주는 테스트 기술이다.

#### 테스트를 통한 개발
* 테스트란 내가 예상하고 의도했던 대로 코드가 정확히 동작하는지를 확인해서, 만든 코드를 확신할 수 있게 해주는 작업이다.
* 단위 테스트: 관심사의 분리를 통해 가능하면 작은 단위로 쪼개서 집중할 수 있도록 작은 단위의 테스트가 필요하다. 코드의 유지보수가 쉬워진다.
* 테스트를 통해 지속적인 개선과 점진적인 개발, 리팩토링을 진행하기 수월해진다.
* 단위 테스트는 코드가 바뀌지 않는다면 매번 실행할 때마다 동일한 테스트 결과를 얻을 수 있어야 한다.
* "항상 네거티브 테스트를 먼저 만들라" by 스프링 창시자 로드 존슨
* TDD(Test Driven Development): 테스트 주도 개발
* TFD(Test First Development): 테스트 우선 개발

#### JUnit
* JUnit: 자바로 단위 테스트를 만들 수 있도록 지원하는 프레임워크
* JUnit이 하나의 테스트 클래스를 가져와 테스트를 수행하는 방식
1. 테스트 클래스에서 @Test가 붙은 public이고 void형이며 파라미터가 없는 테스트 메소드를 모두 찾는다ㅏ.
2. 테스트 클래스의 오브젝트를 하나 만든다.
3. @Before가 붙은 메소드가 있으면 실행한다.
4. @Test가 붙은 메소드를 하나 호출하고 테스트 결과를 저장해둔다.
5. @After가 붙은 메소드가 있으면 실행한다.
6. 나머지 테스트 메소드에 대해 2~5번을 반복한다.
7. 모든 테스트의 결과를 종합해서 돌려준다.
* 테스트 메소드를 실행할 때마다 테스트 클래스의 오브젝트를 새로 만든다.

#### 정리
* 테스트는 자동화 돼야 하고 빠르게 실행할 수 있어야 한다.
* JUnit 프레임워크를 이용한 테스트 작성이 편리하다.
* 테스트 결과는 일관성이 있어야 한다.
* 테스트는 포괄적으로 작성해야 한다.
* 코드 작성과 테스트 수행의 간격이 짧을수록 효과적이다.
* 테스트 주도 개발 방법도 유용하다.
* 테스트 코드도 적절한 리팩토링이 필요하다.
* 동일한 설정파일을 사용하는 테스트는 하나의 애플리케이션 컨텍스트를 공유한다.
